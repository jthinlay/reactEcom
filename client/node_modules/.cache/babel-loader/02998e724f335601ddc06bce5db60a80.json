{"ast":null,"code":"var _jsxFileName = \"/Users/jampathinlay/Desktop/react-folder/project2/crwn-clothing/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport ShopPage from './pages/shop/shop.component';\nimport HomePage from './pages/homepage/homepage.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Header from './components/header/header.component';\nimport { createStructuredSelector } from 'reselect';\nimport CheckoutPage from './pages/checkout/checkout.component';\nimport { selectCurrentUser } from './redux/user/user.selectors';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.unsubscribeFromAuth = null;\n  }\n\n  componentDidMount() {//  this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => \n    //   { if(userAuth){\n    //     const userRef = await createUserProfileDocument(userAuth);\n    //     userRef.onSnapshot(snapShot => {\n    //      setCurrentUser ({\n    //           id: snapShot.id,\n    //           ...snapShot.data()\n    //         })\n    //     });\n    //   }\n    //    setCurrentUser(userAuth);\n    //  });\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth();\n  }\n\n  render() {\n    return (\n      /*#__PURE__*/\n      React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 7\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Header, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Switch, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }\n      },\n      /*#__PURE__*/\n      React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: HomePage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Route, {\n        path: \"/shop\",\n        component: ShopPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Route, {\n        exact: true,\n        path: \"/signin\",\n        render: () => this.props.currentUser ?\n        /*#__PURE__*/\n        React.createElement(Redirect, {\n          to: \"/\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }\n        }) :\n        /*#__PURE__*/\n        React.createElement(SignInAndSignUpPage, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 17\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }),\n      /*#__PURE__*/\n      React.createElement(Route, {\n        exact: true,\n        path: \"/checkout\",\n        component: CheckoutPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 14\n        }\n      })))\n    );\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n});\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/jampathinlay/Desktop/react-folder/project2/crwn-clothing/src/App.js"],"names":["React","connect","Switch","Route","Redirect","ShopPage","HomePage","SignInAndSignUpPage","Header","createStructuredSelector","CheckoutPage","selectCurrentUser","App","Component","unsubscribeFromAuth","componentDidMount","componentWillUnmount","render","props","currentUser","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,WAAP;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,MAAR,EAAgBC,KAAhB,EAAuBC,QAAvB,QAAsC,kBAAtC;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AAEA,SAAQC,wBAAR,QAAuC,UAAvC;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AAEA,SAAQC,iBAAR,QAAiC,6BAAjC;;AAIA,MAAMC,GAAN,SAAkBZ,KAAK,CAACa,SAAxB,CAAiC;AAAA;AAAA;AAAA,SACjCC,mBADiC,GACX,IADW;AAAA;;AAGjCC,EAAAA,iBAAiB,GAAE,CAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC;;AAEDC,EAAAA,oBAAoB,GAAE;AACpB,SAAKF,mBAAL;AACD;;AACCG,EAAAA,MAAM,GAAE;AACN;AAAA;AACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACI,0BAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAAA;AAEI,0BAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACE,0BAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,GAAlB;AAAsB,QAAA,SAAS,EAAEX,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAAA;AAEE,0BAAC,KAAD;AAAO,QAAA,IAAI,EAAC,OAAZ;AAAoB,QAAA,SAAS,EAAED,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFF;AAAA;AAGE,0BAAC,KAAD;AACE,QAAA,KAAK,MADP;AAEE,QAAA,IAAI,EAAC,SAFP;AAGE,QAAA,MAAM,EAAI,MACR,KAAKa,KAAL,CAAWC,WAAX;AAAA;AACA,4BAAE,QAAF;AAAW,UAAA,EAAE,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAAA;AAEA,4BAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UANJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF;AAAA;AAaG,0BAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,WAAlB;AAA8B,QAAA,SAAS,EAAET,YAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbH,CAFJ;AADF;AAoBC;;AA3C4B;;AA6CjC,MAAMU,eAAe,GAAGX,wBAAwB,CAAE;AAChDU,EAAAA,WAAW,EAAER;AADmC,CAAF,CAAhD;AAIA,eAAeV,OAAO,CAACmB,eAAD,CAAP,CAAyBR,GAAzB,CAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {connect} from 'react-redux';\nimport {Switch, Route, Redirect} from 'react-router-dom';\nimport ShopPage from './pages/shop/shop.component';\nimport HomePage from './pages/homepage/homepage.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Header from './components/header/header.component';\n\nimport {createStructuredSelector} from 'reselect';\nimport CheckoutPage from './pages/checkout/checkout.component';\n\nimport {selectCurrentUser } from './redux/user/user.selectors';\n\n\n\nclass App extends React.Component{\nunsubscribeFromAuth = null;\n\ncomponentDidMount(){ \n \n//  this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => \n//   { if(userAuth){\n//     const userRef = await createUserProfileDocument(userAuth);\n//     userRef.onSnapshot(snapShot => {\n//      setCurrentUser ({\n//           id: snapShot.id,\n//           ...snapShot.data()\n//         })\n//     });\n//   }\n//    setCurrentUser(userAuth);\n//  });\n}\n\ncomponentWillUnmount(){\n  this.unsubscribeFromAuth();\n}\n  render(){\n    return(\n      <div>\n          <Header />\n          <Switch>\n            <Route exact path='/' component={HomePage} />\n            <Route path='/shop' component={ShopPage} />\n            <Route \n              exact \n              path='/signin' \n              render = {() => \n                this.props.currentUser ? (\n                < Redirect to='/' /> ) : ( \n                <SignInAndSignUpPage  />\n                )\n              }\n                />\n             <Route exact path='/checkout' component={CheckoutPage} />\n          </Switch>\n      </div>\n    );\n    } \n}\nconst mapStateToProps = createStructuredSelector ({\n  currentUser: selectCurrentUser\n})\n\nexport default connect(mapStateToProps)(App);\n"]},"metadata":{},"sourceType":"module"}